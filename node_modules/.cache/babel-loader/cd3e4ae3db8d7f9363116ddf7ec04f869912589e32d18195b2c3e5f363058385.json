{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nimport React, { Component } from 'react';\nimport withAnalyticsEvents from '../hocs/withAnalyticsEvents';\nimport AnalyticsContext from './AnalyticsContext/LegacyAnalyticsContext';\n// eslint-disable-next-line @repo/internal/react/no-class-components\nexport var BaseAnalyticsErrorBoundary = /*#__PURE__*/function (_Component) {\n  _inherits(BaseAnalyticsErrorBoundary, _Component);\n  var _super = _createSuper(BaseAnalyticsErrorBoundary);\n  function BaseAnalyticsErrorBoundary(props) {\n    var _this;\n    _classCallCheck(this, BaseAnalyticsErrorBoundary);\n    _this = _super.call(this, props);\n    _defineProperty(_assertThisInitialized(_this), \"fireAnalytics\", function (analyticsErrorPayload) {\n      var _this$props = _this.props,\n        createAnalyticsEvent = _this$props.createAnalyticsEvent,\n        channel = _this$props.channel,\n        data = _this$props.data;\n      createAnalyticsEvent({\n        action: 'UnhandledError',\n        eventType: 'ui',\n        attributes: _objectSpread(_objectSpread({\n          browserInfo: window && window.navigator && window.navigator.userAgent ? window.navigator.userAgent : 'unknown'\n        }, data), analyticsErrorPayload)\n      }).fire(channel);\n    });\n    _this.state = {\n      hasError: false\n    };\n    return _this;\n  }\n  _createClass(BaseAnalyticsErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      var onError = this.props.onError;\n      var payload = {\n        error: error,\n        info: info\n      };\n      this.fireAnalytics(payload);\n      onError && onError(error, info);\n      this.setState({\n        hasError: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        data = _this$props2.data,\n        children = _this$props2.children,\n        ErrorComponent = _this$props2.ErrorComponent;\n      var hasError = this.state.hasError;\n      if (hasError && ErrorComponent) {\n        return /*#__PURE__*/React.createElement(AnalyticsContext, {\n          data: data\n        }, /*#__PURE__*/React.createElement(ErrorComponent, null));\n      }\n      return /*#__PURE__*/React.createElement(AnalyticsContext, {\n        data: data\n      }, children);\n    }\n  }]);\n  return BaseAnalyticsErrorBoundary;\n}(Component);\nvar AnalyticsErrorBoundary = withAnalyticsEvents()(BaseAnalyticsErrorBoundary);\nexport default AnalyticsErrorBoundary;","map":{"version":3,"names":["_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","React","Component","withAnalyticsEvents","AnalyticsContext","BaseAnalyticsErrorBoundary","_Component","_super","props","_this","analyticsErrorPayload","_this$props","createAnalyticsEvent","channel","data","action","eventType","attributes","browserInfo","window","navigator","userAgent","fire","state","hasError","value","componentDidCatch","error","info","onError","payload","fireAnalytics","setState","render","_this$props2","children","ErrorComponent","createElement","AnalyticsErrorBoundary"],"sources":["C:/Users/Asus/Dropbox/Code/reactjs/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsErrorBoundary.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport withAnalyticsEvents from '../hocs/withAnalyticsEvents';\nimport AnalyticsContext from './AnalyticsContext/LegacyAnalyticsContext';\n// eslint-disable-next-line @repo/internal/react/no-class-components\nexport var BaseAnalyticsErrorBoundary = /*#__PURE__*/function (_Component) {\n  _inherits(BaseAnalyticsErrorBoundary, _Component);\n\n  var _super = _createSuper(BaseAnalyticsErrorBoundary);\n\n  function BaseAnalyticsErrorBoundary(props) {\n    var _this;\n\n    _classCallCheck(this, BaseAnalyticsErrorBoundary);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"fireAnalytics\", function (analyticsErrorPayload) {\n      var _this$props = _this.props,\n          createAnalyticsEvent = _this$props.createAnalyticsEvent,\n          channel = _this$props.channel,\n          data = _this$props.data;\n      createAnalyticsEvent({\n        action: 'UnhandledError',\n        eventType: 'ui',\n        attributes: _objectSpread(_objectSpread({\n          browserInfo: window && window.navigator && window.navigator.userAgent ? window.navigator.userAgent : 'unknown'\n        }, data), analyticsErrorPayload)\n      }).fire(channel);\n    });\n\n    _this.state = {\n      hasError: false\n    };\n    return _this;\n  }\n\n  _createClass(BaseAnalyticsErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      var onError = this.props.onError;\n      var payload = {\n        error: error,\n        info: info\n      };\n      this.fireAnalytics(payload);\n      onError && onError(error, info);\n      this.setState({\n        hasError: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          data = _this$props2.data,\n          children = _this$props2.children,\n          ErrorComponent = _this$props2.ErrorComponent;\n      var hasError = this.state.hasError;\n\n      if (hasError && ErrorComponent) {\n        return /*#__PURE__*/React.createElement(AnalyticsContext, {\n          data: data\n        }, /*#__PURE__*/React.createElement(ErrorComponent, null));\n      }\n\n      return /*#__PURE__*/React.createElement(AnalyticsContext, {\n        data: data\n      }, children);\n    }\n  }]);\n\n  return BaseAnalyticsErrorBoundary;\n}(Component);\nvar AnalyticsErrorBoundary = withAnalyticsEvents()(BaseAnalyticsErrorBoundary);\nexport default AnalyticsErrorBoundary;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}